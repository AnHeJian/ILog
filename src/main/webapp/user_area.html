<!DOCTYPE html>
<!--[if IE 9 ]><html class="ie9"><![endif]-->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
	<meta name="format-detection" content="telephone=no">
	<meta charset="UTF-8">

	<meta name="description" content="Violate Responsive Admin Template">
	<meta name="keywords" content="Super Admin, Admin, Template, Bootstrap">

	<title>用户活跃区域分析</title>
	<script src="js/jquery-3.2.1.min.js"></script>

	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!--引入ECharts-->
	<script src="js/echarts/echarts.min.js"></script>
	<script src="js/echarts/china.js"></script>
	<script src="js/echarts/dark-blue.js"></script>

	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href="js/bootstrap-3.3.4.css">
	<link href="css/animate.min.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="js/font-awesome.4.6.0.css">
	<link href="css/form.css" rel="stylesheet">
	<link href="css/calendar.css" rel="stylesheet">
	<link href="css/media-player.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<link href="css/icons.css" rel="stylesheet">
	<link href="css/generics.css" rel="stylesheet"> 
	<link href="css/mstp_map.css" rel="stylesheet"> 
	<link href="css/menu.css" rel="stylesheet">

</head>

<body id="skin-blur-blue">
	<header id="header" class="media">
		<a href="" id="menu-toggle"></a> 
		<a class="logo pull-left" href="index.html">用户活跃度分析</a>


	</header>

	<div class="clearfix"></div>

	<section id="main" class="p-relative" role="main">

		<!-- Sidebar -->
		<aside id="sidebar">

			<ul class="list-unstyled side-menu" style="width: 100%!important;padding-top: 20px;">

				<li class="active">
					<a href="user_area.html" id='menuurl'>
						<i class="fa fa-bar-chart-o"></i><span> 全息图概览</span>
					</a>
				</li>
				<li>
					<a href="detail_user_area.html"  id='menuurl'>
						<i class="fa fa-sort-amount-asc"></i><span> 详细信息</span>
					</a>
				</li>

			</ul>

		</aside>

		<!-- Content -->
		<section id="content" class="container">



			<!-- Breadcrumb -->
			<ol class="breadcrumb hidden-xs">
				<li><a href="index.html">首页</a></li>
				<li class="active">用户活跃度分布</li>
			</ol>
			<h4 class="page-title">用户活跃度分布图</h4>

			<form class="form-inline">

			<div class="pull-left">
				<span class="page-title">时间：</span>
				<div class="btn-group">
					<button type="button" class="btn btn-default " data-toggle="modal" data-target="#addTable" id="btn-userarea-today">
						今天
					</button>
					<button type="button" class="btn btn-default" id="btn-userarea-yesterday">
						昨天
					</button>
					<button type="button" class="btn btn-default " data-toggle="modal" data-target="#changeAllTable" id="btn-userarea-svn">
						最近七天
					</button>
				</div>
			</div>

			<!-- <div class="form-group ">  -->               
			<div class="pull-left" id="DateInput">
				<input type="date" class="form-control " id="singleDate_usersrea"
				required="true" dateISO="true">
			</div>
			<!-- </div> -->
			<!-- </div> -->

			<!-- </form> -->
			<div id="select_clear">

					<div class="form-group">
						<span class="page-title">指标：</span>
						<select class="form-control " id="userareaKind" >    
							<option value="PV">浏览量PV</option>
							<option value="UV">访客数UV</option>
						</select>
					</div>

					<div class="form-group">
                        <button type="button" class="btn  pull-right btn-default" id="btn-schUserArea" onclick="showmap()">
						<span class="glyphicon glyphicon-search" aria-hidden="true"></span> 搜索</button>
                    </div>
            </div>


			</form>


			<div class="block-area">

				<div class="row">
					<!-- World Map -->
					<div class="col-md-12">
						<div id="mainEC" style="width: 100%;height:600px;"></div>
						<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('mainEC'),'dark-blue');

// 指定图表的配置项和数据
var datas;
loadDATA();
function loadDATA(){
    $.ajax({
        type : "post",
        async : false, //异步执行
        url : "usrloc.do",
        data : {},
        dataType : "json", //返回数据形式为json
        success : function(result) {
            if(result){
                datas = result;
                //option.series[0].data.push(result);
                //alert(datas[0].value);
            }
        }
    });
}
        var option = {
            backgroundColor: 'rgba(0,0,0,0)',
            title: {
                text: '用户活跃度区域分布',
                //subtext: '纯属虚构',
                left: 'center'
            },
            tooltip: {
                trigger: 'item'
            },
            legend: {
                orient: 'vertical',
                left: 'left',
                data:['PV']
            },
            visualMap: {
                min: 0,
                max: 2500,
                left: 'left',
                top: 'bottom',
                textStyle: {
                    color: '#90F45C',
                    fontWeight: 'bolder'
                },
                text: ['高','低'],           // 文本，默认为数值文本
                calculable: true
            },
            toolbox: {
                show: true,
                orient: 'vertical',
                left: 'right',
                top: 'center',
                feature: {
                    dataView: {readOnly: false},
                    restore: {},
                    saveAsImage: {}
                }
            },
            series: [
                {
                    name: 'PV',
                    type: 'map',
                    mapType: 'china',
                    roam: false,
                    label: {
                        normal: {
                            show: true
                        },
                        emphasis: {
                            show: true
                        }
                    },
                    data:[
                        {name: '北京',value: datas[0].value},
                        {name: '天津',value: datas[1].value},
                        {name: '上海',value: datas[2].value},
                        {name: '重庆',value: datas[3].value},
                        {name: '河北',value: datas[4].value },
                        {name: '河南',value: datas[5].value},
                        {name: '云南',value: datas[6].value},
                        {name: '辽宁',value: datas[7].value},
                        {name: '黑龙江',value: datas[8].value},
                        {name: '湖南',value: datas[9].value },
                        {name: '安徽',value: datas[10].value },
                        {name: '山东',value: datas[11].value },
                        {name: '新疆',value: datas[12].value },
                        {name: '江苏',value: datas[13].value },
                        {name: '浙江',value: datas[14].value },
                        {name: '江西',value: datas[15].value },
                        {name: '湖北',value: datas[16].value },
                        {name: '广西',value: datas[17].value },
                        {name: '甘肃',value: datas[18].value },
                        {name: '山西',value: datas[19].value },
                        {name: '内蒙古',value: datas[20].value },
                        {name: '陕西',value: datas[21].value },
                        {name: '吉林',value: datas[22].value },
                        {name: '福建',value: datas[23].value },
                        {name: '贵州',value: datas[24].value },
                        {name: '广东',value: datas[25].value },
                        {name: '青海',value: datas[26].value },
                        {name: '西藏',value: datas[27].value },
                        {name: '四川',value: datas[28].value },
                        {name: '宁夏',value: datas[29].value },
                        {name: '海南',value: datas[30].value },
                        {name: '台湾',value: datas[31].value },
                        {name: '香港',value: datas[32].value },
                        {name: '澳门',value: datas[33].value }
                    ]
                }

            ]
        };
function showmap() {
    myChart.setOption(option);
}
//myChart.setOption(option);
</script>

            <!-- <div class="tile">
                <h2 class="tile-title"></h2>
                <div class="tile-config dropdown">
                    <a data-toggle="dropdown" href="" class="tooltips tile-menu" title="Options"></a>
                    <ul class="dropdown-menu animated pull-right text-right">
                        <li><a href="">Refresh</a></li>
                        <li><a href="">Settings</a></li>
                    </ul>
                </div>
               
    
            </div> -->
        </div>
    </div>
</div>


<hr class="whiter m-t-20 m-b-20" />

<br/><br/><br/>
</section>




<!-- Javascript Libraries -->
<!-- jQuery -->
<!-- <script src="js/jquery-1.10.2.js"></script> <! jQuery Library --> 
<!-- <script src="js/jquery-ui-1.11.0.js"></script> <! jQuery UI --> 
<!-- <script src="js/jquery.easing.1.3.js"></script> <! jQuery Easing - Requirred for Lightbox --> 
<script src="js/jquery-3.2.1.min.js"></script>

<!-- Bootstrap -->
<script src="js/bootstrap.min.js"></script>
<!--引入ECharts-->
<script src="js/echarts/echarts.min.js"></script>
<script src="js/echarts/china.js"></script>

<!-- Charts -->
<script src="js/charts/jquery.flot.js"></script> <!-- Flot Main -->
<script src="js/charts/jquery.flot.time.js"></script> <!-- Flot sub -->
<script src="js/charts/jquery.flot.animator.min.js"></script> <!-- Flot sub -->
<script src="js/charts/jquery.flot.resize.min.js"></script> <!-- Flot sub - for repaint when resizing the screen -->
<script src="js/charts/jquery.flot.orderBar.js"></script> <!-- Flot Bar chart -->
<script src="js/charts/jquery.flot.pie.min.js"></script> <!-- Flot Pie chart -->

<script src="js/sparkline.min.js"></script> <!-- Sparkline - Tiny charts -->
<script src="js/easypiechart.js"></script> <!-- EasyPieChart - Animated Pie Charts -->
<script src="js/mstp_map.js"></script> <!-- All the above chart related functions -->

<!-- Map -->
<script src="js/maps/jvectormap.min.js"></script> <!-- jVectorMap main library -->
<!--Media Player-->
<script src="js/media-player.min.js"></script> <!-- USA Map for jVectorMap -->

<!-- UX -->
<script src="js/scroll.min.js"></script> <!-- Custom Scrollbar -->

<!-- Other -->
<script src="js/calendar.min.js"></script> <!-- Calendar -->
<script src="js/feeds.min.js"></script> <!-- News Feeds -->


<!-- All JS functions -->
<script src="js/functions.js"></script>

<script>
	$(document).ready(function() {
		$("#DateInput").css("width","16%");
		$("#userareaKind").css("width","100px")
	});
</script>
</body>
</html>
